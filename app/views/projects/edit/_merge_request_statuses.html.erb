<div class="control-group">
  <label class="control-label">Merge Request Statuses:</label>
  <div class="controls gts-merge-request-statuses">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Default?</th>
          <th>Name</th>
          <th>State</th>
          <th>Description</th>
          <th>Color</th>
          <th></th>
        </tr>
      </thead>
      <%= f.fields_for(:merge_request_statuses) do |status_form| %>
        <%= render :partial => "merge_request_status_form",
            :locals => { :form => status_form, :project_form => f } %>
      <% end %>
      <% content_for(:footer) do %>
        <script src="/ui3/js/src/components/merge-request.js"></script>
        <script>
          gts.app.env("merge-request-status-template", "<%= escape_javascript(f.fields_for(:merge_request_statuses, MergeRequestStatus.new, :child_index => "MRSID") do |f|
                  render(:partial => "merge_request_status_form", :locals => { :form => f, :project_form => nil })
                end) %>");

          gts.app.feature("edit-merge-request-statuses", gts.mergeRequest.editStatuses, {
            elements: ["gts-merge-request-statuses"],
            depends: ["merge-request-status-template"]
          });
        </script>
      <% end %>
    </table>
    <div class="gts-mrs-add-ph"></div>
    <p class="help-block">
      <strong>Note</strong> that changing the name or state
      of an existing status will update all affected merge
      requests
    </p>
  </div>
</div>
